///////////////////////////////////////////////////////////
//  Sensing.cs
//  Implementation of the Class Arena
//  Generated by Enterprise Architect
//  Created on:      10-Nov-2017 1:09:15 PM
//  Original author: 0849480
///////////////////////////////////////////////////////////

using System;
using System.Collections.Generic;
using System.Text;
using System.IO;
using Lego.Ev3.Core;
using Lego.Ev3.Desktop;

namespace LegoStormGrp5
{

    public class Sensing
    {

        Brick brick = new Brick();

        public double vDist;
        public int vGyro;

        public Sensing()
        {

        }

        ~Sensing()
        {

        }

        public async int GetClr()
        {           
            //int color = 0;
            //color = (int)e.Ports[InputPort.Two].SIValue;
            await brick.DirectCommand.ClearAllDevicesAsync();
            int color = await brick.DirectCommand.ReadySIAsync(InputPort.Two, 1);

            return color;
        }

        public async double GetDist(object sender, BrickChangedEventArgs e, double pDistChanged)
        {          
            vDist = (double)e.Ports[InputPort.Three].SIValue;           
            //not done I think
            return vDist;
        }

        public async int GetGyro()
        {
            await brick.DirectCommand.ClearAllDevicesAsync();
            int vGyro = await (int)brick.DirectCommand.ReadySIAsync(InputPort.One, 2);            
            
            return vGyro;
        }

    }

    //end Sensing
}
